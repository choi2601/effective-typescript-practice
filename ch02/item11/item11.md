# Ch02

## Item10

잉여 속성 체크와 한계 인지하기

### 정리

타입이 명시된 변수에 객체 리터럴을 할당할 때 타입스크립트는 해당 타입의 속성이 있는지, 그리고 '그 외의 속성은 없는지' 확인

(예제 1)

obj 타입은 Room 타입의 부분 집합을 포함하므로, Room에 할당 가능하며 타입 체커 또한 통과

첫 번째 예제에선 구조적 타입 시스템에서 발생할 수 있는 중요한 종류의 오류를 잡을 수 있도록 '잉여 속성 체크' 과정 수행

잉여 속성 체크가 할당 가능 검사와는 별도의 과정

잉여 속성 체크 역시 조건에 따라 동작하지 않는다는 한계가 있고, 통상적인 할당 가능 검사와 함께 쓰일 경우 구조적 타이핑에 혼란을 야기

(예제 2)

잉여 속성 체크를 이용하면 기본적으로 타입 시스템의 구조적 본질을 해치지 않으면서도 객체 리터럴에 알 수 없는 속성을 허용하지 않음

- 예시의 document나 new HTMLAnchorElement는 객체 리터럴이 아니기 때문에 잉여 속성 체크가 되지 않음

잉여 속성 체크를 원치 않는다면, 인덱스 시그니처를 사용해서 타입스크립트가 추가적인 속성을 예상할 수 있도로 함

(예제 3)

(예제 4)

선택적 속성만 가지는 '약한(weak)' 타입에도 비슷한 체크로 동작

공통 속성 체크: 약한 타입에 대해서 타입스크립트는 값 타입과 선언 타입에 공통된 속성이 있는지 확인하는 별도의 체크를 수행

- 공통 속성 체크는 잉여 속성 체크와 마찬가지로 오타를 잡는 데 효과적이며 구조적으로 엄격하지 않음
- 잉여 속성 체크와 다르게, 약한 타입과 관련된 할당문마다 수행
- 임시 변수를 제거하더라도 공통 속성 체크는 여전히 동작
