# Ch02

## Item07

타입이 값들의 집합이라고 생각하기

### 정리

런타임에 모든 변수는 자바스크립트의 값으로부터 정해지는 각자의 고유한 값을 지님

코드가 실행되기 전, 즉 타입스크립트가 오류를 체크하는 순간에는 '타입'을 가지고 있음

- 타입: 할당 가능한 값들의 집합(타입의 범위)

가장 작은 집합은 아무 값도 포함되지 않는 공집합, 타입스크립트에서는 never 타입

never 타입으로 선언된 변수의 범위는 공집합이기 때문에 아무런 값도 할당 못 함

(예제 1)

한 가지 값만 포함하는 타입, 타입스크립트에서 유닛(unit) 타입이라고도 불리는 리터럴(literal) 타입

두 개 혹은 세 개로 묶으면 유니온(union) 타입을 사용, 합집합

- '할당 가능한': '~의 원소(값과 타입의 관계) 또는 '~의 부분 집합(두 타입의 관계)'를 의미

=> 타입스크립트의 역할은 하나의 집합이 다른 집합의 부분 집합인지를 검사

(예제 2)

(예제 3)

& 연산자는 두 타입의 인터섹션(intersection, 교집합)을 계산

Person과 Lifespan 인터페이스는 공통으로 가지는 속성이 없기 때문에, PersonSpan 타입을 공집합(never 타입)으로 예상

하지만 타입 연산자는 인터페이스의 속성이 아닌, 값의 집합(타입/집합의 범위) 적용되어 추가적인 속성을 가지는 값도 여전히 그 타입에 속함

더 많은 속성을 가지는 값도 PersonSpan 타입에 속함

인터섹션 타입의 값은 각 타입 내의 속성을 모두 포함하는 것이 일반적인 규칙

(예제 4)

keyof (A&B) = (keyof A) | (keyof B)
keyof (A|B) = (keyof A) & (keyof B)

extends

서브타입

(예제 5)

extends 키워드는 제너릭 타입에서 한정자로도 쓰임(~의 부분 집합)

(예제 6)

string을 상속한다는 의미를 객체 상속의 관점으로 생각한다면 이해하기 어려움

상속의 관점에서는 객체 래퍼(wrapper) 타입 string의 서브클래스를 정의해야겠지만 바람직하지 못 함

string을 상속한다는 의미를 집합의 관점으로 생각

string의 부분 집합 범위를 가지는 어떠한 타입이 됨

- string 리터럴 타입, string 리터럴 유니온, string 자신

(예제 7)

숫자 배열을 숫자들의 쌍(pair)라고 볼 수 없음

number[]는 [number, number]의 부분 집합이 아님

- 빈 리스트, [1]

트리플(triple, 세 숫자를 가지는 타입)

타입의 값의 집합이라는건, 동일한 값의 집합을 가지는 두 타입이 같다는 의미

두 타입이 의미적으로 다르고 우연히 같은 범위를 가진다고 하더라도, 같은 타입을 두 번 정의할 필요 X

=> 타입을 값의 집합으로 생각, 이 집합은 유한(boolean 또는 리터럴 타입)하거나 무한(number 또는 string)

=> 타입스크립트 타입은 엄격한 상속 관계가 아니라 겹쳐지는 집합으로 표현. 두 타입은 서브타입이 아니면서도 겹쳐질 수 있음

=> 한 객체의 추가적인 속성이 타입 선언에 언급되지 않덜다ㅗ 그 타입에 속할 수 있음
