# Ch02

## Item15

동적 데이터에 인덱스 시그니처 사용하기

### 정리

타입스크립트에서는 타입에 '인덱스 시그니처'를 명시하여 유연하게 매핑 가능

(예제 1)

- 키의 이름: 키의 위치만 표시하는 용도. 타입 체커에서는 사용되지 않음
- 키의 타입: string이나 number 또는 symbol의 조합이어야 하지만, 보통은 string을 사용
- 값의 타입: 어떤 것이든 가능

단점

- 잘못된 키를 포함해 모든 키를 허용. name 대신 Name으로 작성해도 가능
- 특정 키가 필요하지 않음. {}도 유효
- 키마다 다른 타입을 가질 수 없음.
- 타입스크립트 언어 서비스를 지원받을 수 없음

인터페이스의 사용

런타임에 실제로 일치한다는 보장이 없기 때문에 값 타입에 undefined를 추가 가능

모든 연산에 있어서 undefined 여부를 체크해야 함

(예제 2)

타입에 가능한 필드가 제한되어 있는 경우엔 인덱스 시그니처보단 선택적 필드 또는 유니온 타입으로 모델링해야 함

(예제 3)

키 타입의 string 타입이 광범위하다면 Record를 사용하거나 매핑된 타입을 사용할 수 있음

(예제 4)

=> 런타임 때까지 객체의 속성을 알 수 없을 경우에만 인덱스 시그니처를 사용해라
