# Ch05

## Item42

모르는 타입의 값에는 any 대신 unknown을 사용하기

### 정리

(예제 1)

- 어떠한 타입이든 any 타입에 할당 가능
- any 타입은 어떠한 타입으로도 할당 가능(never 타입 제외)

[함수의 반환값과 관련된 형태]

타입을 값의 집합 관점에서 보았을 때, 한 집합은 다른 모든 집합의 부분 집합이면서 동시에 상위집합은 될 수 없기 때문에 any는 타입 시스템과 상충되는 면이 있음

타입 체커는 집합 기반이기 때문에 any를 사용하면 타입 체커가 무용지물

unknown 타입은 any의 첫 번째 속성(어떠한 타입이든 unknown에 할당 가능)을 만족하지만, 두 번째 속성(unknown은 오직 unknown과 any에 할당 가능)은 만족하지 않음

never 타입은 어떠한 타입 never에 할당 할 수 없으며, 어떠한 타입으로도 할당 가능하다는 특징

unknown 타입인 채로 값을 사용하면 오류 발생(unknown인 값에 함수 호출을 하거나 연산을 하려고 해도 마찬가지). 적절한 타입으로 변환하도록 강제

[변수 선언과 관련된 형태]

어떠한 값이 있지만 그 타입을 모르는 경우에 사용

(예제 2)

타입 단언문 외에도 instanceof 및 사용자 정의 타입 가드를 체크하여 원하는 타입으로 변환 가능

(예제 3)

제너릭 매개변수를 사용하여 반환 타입을 정할 수는 있으나, 타입스크립트에서 좋지 않은 스타일. 제너릭을 사용한 스타일은 타입 단언문과 달라 보이지만 기능적으론 동일

제너릭보단 unknown을 반환하고 사용자가 직접 단언문을 사용하거나 원하는 대로 타입을 좁히도록 강제하는 것이 좋음

[단언문과 관련된 형태]

이중 단언문에서 any 대신 unknown을 사용

(예제 4)

[unknown과 유사하지만 조금 다른 타입들]

- {} 타입: null과 undefined를 제외한 모든 값을 포함
- object 타입은 모든 비기본형(non-primitive) 타입으로 이루어짐. true 또는 12 또는 "foo"가 포함되지 않지만 객체와 배열은 포함
