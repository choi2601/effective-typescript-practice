# Ch03

## Item21

타입 넓히기

### 정리

런타임 시에 모든 변수는 유일한 값을 지님

정적 분석 시점엔, 변수는 '가능한' 값들의 집합인 타입을 지님

상수를 사용해서 변수를 초기화할 때 타입을 명시하지 않으면 타입 체커는 타입을 결정해야 함

넓히기(widening): 지정된 단일 값을 가지고 할당 가능한 값들의 집합을 유추

(예제 1)

타입 넓히기가 진행될 때, 주어진 값으로 추론 가능한 타입이 여러 개이기 때문에 과정이 모호해짐

(예제 2)

타입스크립트는 넓히기를 시전할 때 명확성과 유연성 사이의 균형을 유지

일반적인 규칙은 변수가 선언된 후로는 타입이 바뀌지 않아야 하기 때문

[넓히기 과정의 제어]

- const 사용
  - 객체와 배열의 경우에는 예외
    - 객체의 경우 타입스크립트의 넓히기 알고리즘은 각 요소를 let으로 할당한 것처럼 동작

(예제 3)

잘못된 추론(false positive)을 할 정도로 구체적으로 수행하지 않음

타입 추론의 강도를 직접 제어하려면 타입스크립트의 기본 동작을 재정의해야 함

- 명시적 타입 구문을 제공
- 타입 체커에 추가적인 문맥을 제공
- const 단언문의 사용
